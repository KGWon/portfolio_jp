<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta content="width=device-width,initial-scale=1" name="viewport">
  <meta content="description" name="description">
  <meta name="google" content="notranslate" />
  <meta content="Mashup templates have been developped by Orson.io team" name="author">

  <!-- Disable tap highlight on IE -->
  <meta name="msapplication-tap-highlight" content="no">
  
  
  <link rel="apple-touch-icon" sizes="180x180" href="./assets/apple-icon-180x180.png">
  <link href="./assets/favicon.ico" rel="icon">

  <link href="" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap" rel="stylesheet">

  <title>ポートフォリオ</title>

<link href="./main.550dcf66.css" rel="stylesheet"></head><style>*{
  font-family: 'Noto Sans KR', sans-serif;
  color:#353535;
  line-height: 150%;
} 
 

.video {
  width: 100%;
  max-width: 900px;
  margin: 30px auto;
  border-radius: 30px;
  background-color: #f0f0f0;
  padding: 40px;
  box-sizing: border-box;
  box-shadow: 0px 8px 33px #999;
}

.g{width:100%; display: none;}
.g1{width:100%;}

.video-container {
  position: relative;
  width: 100%;
  height: auto;
  padding-top: 50%;
}

iframe {
  z-index: 1;
  top: 0;
  left: 0;
  position: absolute;
  width: 100%;
  height: 100%;
}

.ddd{
   width: 70%; /* 정렬하려는 요소의 넓이를 반드시 지정 */ margin: 0 auto; 
   text-align: left; 

}


.ddd1{
   width: 75%; /* 정렬하려는 요소의 넓이를 반드시 지정 */ margin: 0 auto; 
   text-align: left; 

}

 
#data{width:60%;}   

@media screen and (max-width: 1011px) { 
#data{width:100%;} 

.g{width:100%; display: none;}
.g1{width:100%;}

.ddd1{
     width: 100%; /* 정렬하려는 요소의 넓이를 반드시 지정 */ margin: 0 auto; 
     text-align: left; 
  
  }

  .ddd{
     width: 100%; /* 정렬하려는 요소의 넓이를 반드시 지정 */ margin: 0 auto; 
     text-align: left; 
  
  }


}
 

</style>
<body>
    <header>
        <nav class="navbar navbar-default active">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="./index.html" title="">
                <img src="./assets/images/mashup-icon.svg" class="navbar-logo-img" alt="">
                ポートフォリオ
              </a>
            </div>
      
            <div class="collapse navbar-collapse" id="navbar-collapse">
              <ul class="nav navbar-nav navbar-right"> 
                 
                <li><a href="./skills.html" title="">技術(Skills)</a></li> 
                 <li><a href="./career.html">職務 経歴</a></li>      
                <li><a href="./projectSpring.html" title="">SpringBootプロジェクト</a></li>
            
                <li><a href="./projectJSP.html" title="">JSPプロジェクト&nbsp;&nbsp;</a></li>
                
           
        
                  <li>
                    <p>
                      <a href="./index.html#contact" class="btn btn-default navbar-btn" title="">Contact me</a>
                    </p>
                  </li>
        
      
              </ul>
            </div> 
          </div>
        </nav>
      </header>
      
       
      <div class="section-container" id="d">
        <div class="container text-center">
          <div class="row section-container-spacer">
            <div class="col-xs-12 col-md-12" style="font-family: 'Noto Sans KR', sans-serif;">
              <br><br><br>
              <h2>SpringBootプロジェクトの紹介 <span style="font-size: 15px;">(スクール時期のチームプロジェクト)</span></h2>
           <div class="ddd1">   <div class="video">
               <b> [基本情報]<br></b><br>
               ■ プロジェクト名 : <span style=" border-bottom: 1px dotted #353535;">Spring Bootで実装した釜山グルメレビューサイト -「BMJ WHERE」</span> <br>
              ■ 企画の方向性 : SpringBootを活用して釜山ローカルグルメ情報をカテゴリー別に細分化して提供し、また「グルメ照会」画面でレビューを残すことと評点付け機能を通じて人気度を一目で把握するメンバーシップサイトを作ってみたかったです。<br> 
■ 私のポジション : チームメンバーは計4人で、私はバックエンド機能(セキュリティ、つまりログイン機能とCRUD)およびDB設計を担当しました。<br>
■ 活用された技術 <br>
&nbsp;&nbsp;&nbsp;1. <b>Spring Boot(framework)</b>  : スプリングを利用すると、セキュリティ関連(SpringSecurity)、データベース接続(JDBC、JPAHibernate)、デバッグテスト(junit)、Thymeleaf、HikariPoolなど数多くの技術をサポートします。 SpringBootの場合、多くのものが自動化されてxmlファイルなしで簡単に@(annotation)一つで管理でき、スプリングをより簡単に扱えるようにしてくれるので選択しました。

<br>
&nbsp;&nbsp;&nbsp;2. <b>Gradle build</b>  : Mavenで使用するpom.xmlよりはるかに楽で可読性が良かったので選びました。
<br>
&nbsp;&nbsp;&nbsp;3. <b>JPA, Hibernate</b> : Mybatisのようなxmlmapperを利用したデータベース補助ツールとは異なり、JPAの場合、ジャワORM構造に沿ってクラス形態に抽象化させれば良いので、開発コードがより単純化されるという点で選択しました。

<br>
&nbsp;&nbsp;&nbsp;4. <b>Thymeleaf</b> : JSPの代わりにThymeleafを使って画面処理をすると、Modelに含まれたオブジェクトを画面でJavaScriptで処理しやすく、.htmlファイルで生成するのに問題がなく便利なので選択しました。

 <br>
 &nbsp;&nbsp;&nbsp;5. その他<b>MariaDB(DB), Intellij(IDE), Tomcat 9.0(server), Java 11(jre)</b>を使用して開発しました。
 
<br>  
<a href="https://github.com/KGWon/f_bmjWhere.git"  target="_blank" ><img src ="./assets/images/output/10.png" style="width:70px; display:block; margin : 0 0 0 auto ;"></a>
</div></div>
            <div id="aa">
<br>
        <br><br>        <h3>以下は、実装した内容でございます。<span style="font-size: 18px;"></span></h3><br>
<div class="video">
    <div class="video-container">
      <iframe width="100%" height="100%" src="https://www.youtube.com/embed/1-bMfJ9_6mU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    </div> 
</div> 
<div class="ddd"><br>
<b>[検索およびセキュリティ(会員登録およびログイン)機能の実装]</b><br>
<br>
■ メインページからリストページへ検索機能連動<br>
■ グルメリストページ検索機能の実装<br>
■ セキュリティ(会員登録及びログイン、ログアウト)機能の実装<br>
■ ナビゲーションの「EATDeal」メニューからログインユーザー権限設定を実装<br><br>
<br></div>
<div class="video"> 
  <div class="video-container">
    <iframe width="100%" height="100%" src="https://www.youtube.com/embed/HjB2ike8Hzk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
  </div> 
</div> 
<div class="ddd"><br>
<b>[カテゴリページ、詳細情報照会ページおよび会員星レビュー機能の実装]</b><br>
<br>
■ 細分化されたカテゴリ(韓国料理、和食、中華料理、洋食、カフェ)別データリストフィルタリング機能を実装<br>
■ カテゴリページからデータ項目別詳細情報照会ページにアクセス<br>
■ 詳細情報照会ページの機能:ユーザーCRUDの実装<br>
<span style="color:white;">---</span>(1) DBからデータをインポートする<br>
<span style="color:white;">---</span>(2) DBのアドレス値とKakaoマップAPIを連動させて地図表現<br>
<span style="color:white;">---</span>(3) レビュー登録とレビューの読み込み<br>
<span style="color:white;">---</span>(4) レビュー星点数の計算<br>
<span style="color:white;">---</span>(5) レビューの修正と削除<br><br> <br></div>

<div class="video">
  
  <div class="video-container">
    <iframe width="100%" height="100%" src="https://www.youtube.com/embed/0zMjuq6urwk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
  </div>
</div> 
<div class="ddd"><br>
<b>[管理者接続時のデータ管理機能の実装]</b><br>
<br>
■ 管理者権限設定の実装<br>
■ 管理者CRUDの実装<br>
<span style="color:white;">---</span>(1) (管理者)グルメ情報をDBに登録するページを実装<br>
<span style="color:white;">---</span>(2) (管理者)グルメの修正と削除機能<br><br> 

</div></div>
<div id="tt" style="display:none;">
<br><br><br>

<h3>2) 다음으로, Spring을 사용한 개발 과정 및 저의 개발일지를 소개드립니다.<span style="font-size: 18px;"><a href="#aa">(구현된 기능으로 이동)</a></span></h3>
<div id="list">
  
  <br>
<div class="ddd1">   <div class="video">
  <b> [목차] </b>
<br><br>
  <a href="#list1">1.</a> [패턴 구조]<br>
  <a href="#list2">2.</a> [데이터 관계도]<br>
  <a href="#list3">3.</a> [기능별 개발 과정]
 <!-- <a href="#list4">4.</a> [개선사항 및 새롭게 학습한 것]-->

</div></div> </div>
<div id = "list1">  
  <br><br>
<div class="ddd1" >
  <div class="video">
    1. [패턴 구조 : 다음 구조를 가지고 작업을 처리했습니다.] <span style="font-size:17px;"><a href="#list">[▲목차]</a></span>

</div>
<br>
<img class="g1"  src="./assets/images/picpic/bea.png" style=" display:block; margin : 0 auto ;"><br>

스프링부트에서 처리되는 작업은 사용자화면에서의 요청이 Controller로 이동하고, 이때의 데이터값은 DTO형식으로서 Controller에서 Serive계층으로 이동하며, 이것을 Service계층에서 Entity객체로 변환하여 Repository로 넘어가 데이터를 처리하고, 그 결과값을 역순으로 보냅니다. 저는 이러한 패턴을 숙지하고 Controller계층과 Service계층, Repository계층을 나누고 Entity와 DTO를 정의하여 개발에 임하였습니다.
</div></div>
<div id = "list2">
  
  <br><br>
<div class="ddd1">   
  <div class="video">
    2. [데이터 관계도] <span style="font-size:17px;"><a href="#list">[▲목차]</a></span>
</div><br>
<img id="data"  src="./assets/images/bmjdb/entity.png"  style=" display:block; margin : 0  auto ;"><br>
<br>
[ 부가설명 ]<br>
- BaseEntity는 시간 관련된 엔티티로, 이것을 상속하면 등록과 수성시간을 처리할 수 있어, 데이터값 등록과 직접적으로 관련된 모든 엔티티가 상속하고 있습니다.<br>
- 리뷰 엔티티는 멤버와 식당엔티티에서 FK를 가져옵니다.<br>
- 식당 이미지는 다수의 이미지가 하나의 식당에 소속되어야 하므로 식당엔티티에서 FK를 가져옵니다.

</div>
</div>
<div id = "list3">
  <br><br> <div class="ddd1">   <div class="video">
  3. [기능별 개발 과정] <span style="font-size:17px;"><a href="#list">[▲목차]</a></span></div>
<br>

<span style="font-size: 20px;"><b>3.1. 식당 데이터 CRUD처리</b></span><br>
<br> <img class="g"  src="./assets/images/picpic/resdto.png" ><br><br>  
<img class="g"  src="./assets/images/picpic/bresserrepo.png" ><br><br>  
<img class="g"  src="./assets/images/picpic/brescon.png" ><br><br>  

3.1.1. 리스트 목록 처리 <br>
&nbsp;&nbsp;&nbsp; : 페이징 처리를 위한 PageRequestDTO와 화면에 필요한 데이터값들을 List타입으로 보관하는 PageResultDTO를 만들고, RestaurantRepository에서 페이징 처리를 위한 쿼리문 작성<br><br>  
3.1.2. 데이터 조회 처리 <br>
&nbsp;&nbsp;&nbsp; : 컨트롤러에서 ResturantDTO를 변수값으로 할당하고 뷰페이지에서 데이터조회 코드 작성시 활용<br>
&nbsp;&nbsp;&nbsp; : 뷰페이지의 변수값 활용은 Thymeleaf문법을 따르고 있으며 'th:value' 값으로 지정됨. <br><br>  
3.1.3. 데이터 등록, 수정, 삭제  <br>
 &nbsp;&nbsp;&nbsp; : Service계층에서 식당정보 추가 메서드 register 작성. 해당 메서드는 DTO타입을 파라미터로 전달받고 생성된 게시물의 번호를 반환하도록 작성됨.<br>  
 &nbsp;&nbsp;&nbsp; : Service계층에서 삭제메서드(removeWithReplies), 수정 메서드(modify) 작성. 이때 삭제는 식당에 소속된 리뷰도 함께 삭제함.<br> 
 &nbsp;&nbsp;&nbsp; : 뷰페이지(register.html) 코드에서 form과 input 태그로 데이터값을 입력받을 수 있음.<br><br>  
3.1.4. 이미지 업로드  <br>
 &nbsp;&nbsp;&nbsp; : 데이터 관련해서, 식당 테이블이 PK를 가지고 식당이미지 테이블은 FK를 가지도록 ResturantImage 엔티티에 @ManyToOne 어노테이션으로 설정<br>
 &nbsp;&nbsp;&nbsp; : 파일 업로드와 관련된 모든 작업은 Ajax로 처리하고 결과는 Json 형태로 제공 <br>
 &nbsp;&nbsp;&nbsp; : 서블릿의 자체적인 파일업로드 라이브러리 이용했고, UploadController에서 @PostMapping("/uploadAjax")어노테이션이 부과된 List형식의 이미지업로드 메서드(uploadFile) 정의.<br>
 &nbsp;&nbsp;&nbsp; : uploadFile메서드 안에서 이미지를 썸네일로 저장하는 기능 구현.<br>
<br>
<br>
<span style="font-size: 20px;"><b>3.2. 리뷰 기능 </b></span><br>
<br>
<img class="g"  src="./assets/images/picpic/breview.png" ><br><br>  
3.2.1. 회원 테이블과 식당 테이블 간 다대다 관계 구현 <br>
 &nbsp;&nbsp;&nbsp; : 회원과 식당 테이블 사이에 두 개의 테이블을 연결(매핑)해주는 '리뷰 테이블'이 존재하도록 review엔티티에서 다음과 같이 구현<br>
 <img class="g"  src="./assets/images/picpic/b-many.png" ><br><br>  
3.2.2. JSON 포맷으로 데이터를 교환하며, Ajax로 리뷰값을 가져오는 리뷰형식의 댓글 처리<br><br>
&nbsp;&nbsp;&nbsp; : ReviewController에서 어노테이션 @PutMapping과 @DeleteMapping 및 JSON으로 들어오는 데이터를 자동으로 해당타입의 객체로 매핑하는 @RequestBody 활용<br>  
&nbsp;&nbsp;&nbsp; : 뷰페이지(read.html) 스크립트 코드에서, Ajax로 전송, 삭제, 수정하는 코드 작성 (해당 코드는 전송 기능 중 일부 발췌) <br>
<img   class="g" src="./assets/images/picpic/baaa.png" ><br> 
&nbsp;&nbsp;&nbsp; : 뷰페이지(read.html)에서 제이쿼리의 each 반복문 활용하여 리뷰목록을 호출하는 getJSON메서드 작성<br><br> 
3.2.3. 리뷰 관련된 기능은 기본적으로 버튼 클릭 시 이벤트리스너로 처리된 모달창 활용<br><br> 
3.2.4. 평점 구현하기 : 평점은 Restuarant의 avg 필드에 저장되며, 평균은 RestaurantRepository에서 JPQL문 안에 구현
<br><br><br> 
<span style="font-size: 20px;"><b>3.3. 회원 기능 : 스프링 시큐리티 이용</b></span><br>
<br>

<img class="g"  src="./assets/images/picpic/blogin.png" ><br><br>  
<img class="g"  src="./assets/images/picpic/bclubmem.png" ><br><br>  
<br>
3.3.1. 개요 : JPA와 연동한 일반적인 ID/PW 기반의 커스텀 로그인 구현<br><br>
3.3.2. config에서 모든 시큐리티 관련 설정이 추가됨<br>
 &nbsp;&nbsp;&nbsp; : http.authorizeRequests()를 통해 인증이 필요한 뷰페이지 설정<br>
 &nbsp;&nbsp;&nbsp; : PasswordEncoder를 통해 암호회된 비밀번호값 전송<br>
 &nbsp;&nbsp;&nbsp; : loginPage() 활용해 사이트의 고유한 로그인 페이지로 이동<br>
 &nbsp;&nbsp;&nbsp; : ClubLoginSuccessHandler와 ClubUserDetailsService를 import해 가져옴<br><br>
3.3.3. Controller에서 @PreAuthorize("hasRole('권한')") 어노테이션 활용해 매핑 시 인증되지 않은 사용자에게 인증 요청<br><br>
3.3.4. ClubAuthMemberDTO에서는 내장된 User클래스를 상속해 사용자 생성자를 호출하고, 소셜 로그인을 구현하기 위해 OAuth2User를 implements하였으나, 10일이라는 프로젝트 기간의 촉박함으로 소셜로그인 기능을 완수하지 못함.<br><br>
3.3.5. 마감기간을 앞두고, 미처 구현하지 못한 ClubAuthMemberDTO의 기능적 측면(소셜로그인 연동 가능)을 그대로 살려두면서 일시적으로 새로운 멤버 데이터를 이용하기 위해, 새롭게 ClubMember 엔티티와 DTO생성하고, 관리자와 사용자의 권한을 나누기 위한 Role 엔티티도 정의.<br><br>
3.3.6. ClubUserDetailsService에서, ClubAuthMember의 DTO값에 새로 만든 clubMember의 DTO값을 주입하고 최종적으로 ClubAuthMember를 리턴.<br> <img  class="g"  src="./assets/images/picpic/bclcl.png" > <br><br>
3.3.7. 뷰페이지들에서는 〈sec:authorize〉 태그를 활용해, 권한에 따라 다른 화면이 보이게끔 구현함. 유저 정보를 뷰페이지에서 활용하기 위해 〈sec:authentication="name"〉 태그 활용으로 부족한 부분에서는 컨트롤러에서 메서드 지정. <br><br>
 3.3.8. 식당정보 조회화면(read.html)에서 리뷰모달창 안에 로그인한 사용자 정보를 불러오기 위해 다음 메서드 지정. [이와 관련되어 발생하는 문제점은 하단 <a href="#list4">개선사항</a>에 기재하였습니다]<br><img  class="g"  src="./assets/images/picpic/bread.png" ><br>
<br><br>
<span style="font-size: 20px;"><b>3.4. 검색 기능 </b> </span><br>
<br>
<img class="g"  src="./assets/images/picpic/bsearch.png" ><br><br>   
3.4.1. 개요 : 동적쿼리 처리를 위해 Querydsl 이용하여 엔티티를 Q도메인으로 변환하여 처리함<br><br>
3.4.2. SearchResturantRepository와 SearchResturantRepositoryImpl를 생성하여, 검색과 관련된 메서드를 만들고, BooleanBuilder를 생성하여 검색 조건을 설정함<br>



</div></div> 
  <!--
<div id = "list4">
  <br><br> <div class="ddd1">   <div class="video">
4. [개선사항 및 새롭게 학습한 것] <span style="font-size:17px;"><a href="#list">[▲목차]</a></span></div>
<br>

<li>가장 큰 문제점 : 현재 회원가입을 거쳐 회원id에 해당하는 이메일 주소가 DB에 있는 멤버만 리뷰창에서 전송되는 이메일 값을 검증하여 리뷰 등록이 가능합니다. 그런데 현재 리뷰창에 로그인된 유저의 이메일을 받아오는 메서드를 컨트롤러에서 정의하여 사용하고 있는데, 이렇게 하면 리뷰 등록 기능은 맛집 조회 페이지 안에 소속된 모달창이기 때문에, id가 null값(=공백)인 로그인 하지 않은 유저가 맛집 조회 페이지에 접근하게 되면 예외(=문제)가 발생하여 접근할 수 없게 됩니다. 그래서 로그인한 유저라도 리뷰 모달창에서 직접 이메일을 입력하여 리뷰를 등록하게끔 최종 구현했습니다. 저의 메서드에 문제가 있는지 다시 검토해보고 싶습니다.

</li><br>
 
<li>기능관련 : JSP프로젝트보다 스프링부트에서 진행한 것이 편리한 점이 많았습니다. 특히 로그인 구현에 있어서 스프링 시큐리티를 사용하면 복잡하게 xml파일을 왔다갔다 할 필요 없이, 약간의 설정과 어노테이션만으로 많은 것이 가능해서 편리하다는 걸 느꼈습니다.</li> <br> 

<li>팀워크의 중요성도 배웠습니다. 저 혼자만으로는 짧은 시간 안에 사이트를 전부 다 구성할 수 없었을 것입니다. 제 곁에 데이터 조사해주는 분이 있고, 디자인 해주는 분이 있고, 또 기능 구현 차원에서도 머리를 맞대고 토론할 분들이 있어서 많은 문제를 보다 쉽게 해결하였고, 이는 협업의 중요성을 느끼게 했습니다.</li>

</div></div>-->
<div class="ddd">



</div></div>
              </div>  
          </div>
          
        </div>
      </div>
      
<script>
  document.addEventListener("DOMContentLoaded", function (event) {
    navActivePage();
    scrollRevelation('.reveal');
  });
</script>

<!-- Google Analytics: change UA-XXXXX-X to be your site's ID 

<script>
  (function (i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
      (i[r].q = i[r].q || []).push(arguments)
    }, i[r].l = 1 * new Date(); a = s.createElement(o),
      m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
  })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
  ga('create', 'UA-XXXXX-X', 'auto');
  ga('send', 'pageview');
</script>

--> <script type="text/javascript" src="./main.0cf8b554.js"></script></body>

<footer class="footer-container white-text-container">
  <div class="container">
    <div class="row">

     
      <div class="col-xs-12">
      <!-- <h3>Mountain</h3>

        <div class="row">
          <div class="col-xs-12 col-sm-7">
            <p><small>Website created with <a href="http://www.mashup-template.com/" title="Create website with free html template">Mashup Template</a>/<a href="https://www.unsplash.com/" title="Beautiful Free Images">Unsplash</a></small>
            </p>
          </div>
          <div class="col-xs-12 col-sm-5">
            <p class="text-right">
              <a href="https://facebook.com/" class="social-round-icon white-round-icon fa-icon" title="">
                <i class="fa fa-facebook" aria-hidden="true"></i>
              </a>
              <a href="https://twitter.com/" class="social-round-icon white-round-icon fa-icon" title="">
                <i class="fa fa-twitter" aria-hidden="true"></i>
              </a>
              <a href="https://www.linkedin.com/" class="social-round-icon white-round-icon fa-icon" title="">
                <i class="fa fa-linkedin" aria-hidden="true"></i>
              </a>
            </p>
          </div>
        </div>--> 
        
        
      </div>
    </div>
  </div>
</footer>

</body></html>
